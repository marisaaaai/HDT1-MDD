---
title: "Análisis Exploratorio"
author: "GRUPO 6"
date: "2/1/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{r, include=FALSE}
datos <- read.csv(file = 'tmdb-movies.csv')
```

# Hoja de Trabajo #1  
## Informe de análisis exploratorio de los carros  

En este informe usted podrá leer los hallazgos de EDA.

### Descripción del conjunto de datos
El conjunto de datos está compuesto por 
```{r, echo=FALSE}
nrow(datos)
```
observaciones de 
```{r, echo=FALSE}
ncol(datos)
```
variables.  
```{r, echo=FALSE}
summary(datos)
```


Las variables y su tipo dentro del data set son:
```{r, echo=FALSE}
str(datos)
```

Los histogramas para comprobar normalidad en los datos cuantitativos de los data sets son los siguientes.  
```{r}
hist(x= datos$id, main=paste("Histograma de ID"))
hist(x= datos$popularity, main=paste("Histograma de Popularity"))
hist(x= datos$budget, main=paste("Histograma de Budget"))
hist(x= datos$revenue, main=paste("Histograma de revenue"))
hist(x= datos$vote_count, main=paste("Histograma de vote count"))
hist(x= datos$vote_average, main=paste("Histograma de votr average"))
hist(x= datos$release_year, main=paste("Histograma de Release year"))
hist(x= datos$budget_adj, main=paste("Histograma de Budget adj"))
hist(x= datos$revenue_adj, main=paste("Histograma de Revenue ADJ"))
```

Para tablas de frecuencias de las variables cualitativas se se mostraran las líneas de código ya que los resultados de algunas toman muchos  espacio, las lineas de código son las siguientes son las siguientes:  

## imbd_id    
`
IMBD_ID <- c(datos$imdb_id)
table(IMBD_ID)
`  

## cast
`
cast <- c(datos$cast)
table(cast)
`

## homepage
`
hp <- c(datos$homepage)
table(hp)
`

## director
`
director <- c(datos$director)
table(director)
`

## tagline
`
tagline <- (datos$tagline)
table (tagline)
`

##keywords
`
keywords <-(datos$keywords)
table(keywords)
`
##overview
`
overview <-(datos$overview)
table(overview)
`
##genres
`
genres <- c(datos$genres)
table(genres)
`
##production_companies
`
production_companies <- c(datos$production_companies)
table(production_companies)
`

##release_date
`
release_date <- c(datos$release_date)
table(release_date)
`


##¿Cuáles son las 10 películas que contaron con más presupuesto?

```{r}
library(tidyverse)
datos %>% top_n(10, datos$budget)

```


##¿Cuáles son las 10 películas que más ingresos tuvieron?

```{r}
library(tidyverse)
datos %>% top_n(10, datos$revenue)
```

##¿Cuál es la película que más votos tuvo?

```{r}
datos[which.max(datos$vote_count),]

```

##¿Cuál es la peor película de acuerdo a los votos de todos los usuarios?

```{r}
datos[which.min(datos$vote_count),]
```

##¿Cuántas  películas  se  hicieron en  cada  año? ¿En qué año  se  hicieron  
##más películas? Haga un gráfico de barras
```{r}
hola <- table(datos$release_year)
barplot(hola,main="Barra de datos de release year",xlab="Year",ylab="Frecuencia")


```

##¿Cuál es el género principal de las 20 películas más populares?
```{r}
library(tidyverse)
subdatos <- datos %>% top_n(20, datos$popularity)
generos <-(subdatos$genres)
table(generos)
```

##¿Cuál  es  el  género  que  predomina  en  el conjunto  de  datos? 
```{r}
genres <- table(datos$genres)
barplot(genres,main= "Genero",xlab="Generos",ylab="Frecuencia")

```

##¿Las películas de qué género principal obtuvieron mayores ganancias?
```{r}
genres <- table(datos$genres)
ganancias <- table(datos$revenue)
barplot(genres,ganancias,main= "Genero",xlab="Generos",ylab="Ganancias")
```

##¿Las películas de qué género principal necesitaron mayor presupuesto?
```{r}
genres <- table(datos$genres)
presupuesto <- table(datos$budget)
barplot(genres,presupuesto,main= "Genero",xlab="Generos",ylab="Presupuesto")
```
```

##¿Quiénes son los 20 mejores directores que hicieron películas altamente calificadas?
```{r}
library(tidyverse)
subdatoss <- datos %>% top_n(20, datos$vote_count)
directores <-(subdatoss$director)
table(directores)
```

##  ¿Cómo  se  correlacionan  los  presupuestos  con  los  ingresos?  ¿Los  altos presupuestos  significan   altos  ingresos?  Haga  los  gráficos que  necesite,histograma,diagrama de dispersión.
```{r}
plot(x=datos$revenue, y=datos$budget, main = "Presupuesto vs. Ingresos", xlab="Ingresos", ylab="Presupuesto")
```

## ¿Se asocian ciertos meses de lanzamiento con mejores ingresos?
```{r}
library(ggplot2)
library(dplyr)
library(lubridate)

plot(x=month(as.POSIXlt(datos$release_date, format = "%m/%d/%y")), y=datos$revenue, main = "Ingresos vs Meses", xlab="Meses", ylab="Ingresos")

```

## ¿En qué meses se han visto los lanzamientos máximos?
```{r}
meses <- table(month(as.POSIXlt(datos$release_date, format = "%m/%d/%y")))
barplot(meses,main= "Lanzamientos x mes",xlab="Meses",ylab="Frecuencia")
```

## ¿Cómo se correlacionan las calificaciones con el éxito comercial?
```{r}
plot(x=datos$vote_average, y=datos$popularity, main = "Popularidad comercial vs. Calificación", xlab="Calificacion", ylab="Popularidad Comercial")
```

## ¿A qué género principal pertenecen las películas más largas?
```{r}
genres <- table(datos$genres)
tiempo <- table(datos$runtime)
barplot(genres,tiempo,main= "Genero",xlab="Generos",ylab="Duración")
```

















